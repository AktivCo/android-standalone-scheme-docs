# Changelog

Все изменения в библиотеке [rtpcscbridge](https://search.maven.org/artifact/ru.rutoken.rtpcscbridge/rtpcscbridge) будут
публиковаться в этом файле.

## [1.3.0] - 08-11-2024

### Добавлено

- Библиотека поддерживает работу на Android 15 с 16кб страницами памяти.

### Изменено

- Нативная часть библиотеки пересобрана с использованием ndk r27b.
- Сборка библиотеки осуществляется с использованием compileSdk и targetSdk 35 (Android 15).
- Улучшено взаимодействие с библиотекой rtpkcs11ecp в рамках вызова C_WaitForSlotEvent.

## [1.2.0] - 18-03-2024

### Добавлено

- Во время инициализации библиотеки стала возможна конфигурация набора поддерживаемых физических интерфейсов Рутокенов
  (USB, NFC, Bluetooth, SPI) с помощью класса **ru.rutoken.rttransport.InitParameters**.
- В библиотеку добавлен конфигурационный файл ProGuard, который применится автоматически при включении обфускации
  приложения.

### Изменено

- По умолчанию библиотека обнаруживает только USB и NFC токены.

### Исправлено

- Инициализация библиотеки происходит успешно, даже если в конечном манифесте приложения нет install-time разрешений,
  необходимых для подключения Рутокенов по конкретному интерфейсу (например, NFC). Библиотека не будет работать с этим
  интерфейсом в таком приложении.
- В случае, если к устройству подключено несколько Рутокенов по USB, библиотека корректно запросит у пользователя
  разрешение для каждого из них.
- Библиотека корректно обрабатывает подключение Рутокен ECP 3.0 3220 SD.
- Устранены возможные длительные блокировки Main потока внутри методов библиотеки при использовании Рутокен Bluetooth.

## [1.1.1] - 07-12-2023

### Изменено

- Ссылки на Java API в Javadoc теперь ведут на https://developer.android.com/reference,
  так как доступ к docs.oracle.com в России сейчас нестабилен.

## [1.1.0] - 01-12-2023

### Изменено

- Теперь после вызова **RtPcscBridge.setAppContext** можно сразу успешно инициализировать библиотеку librtpkcs11ecp или
  SDK КриптоПро. Ранее для гарантированной инициализации сначала нужно было вызвать **RtTransport.initialize**.
- Убрано автоматическое логирование для методов **PcscReaderObserver.onReaderAdded** и
  **PcscReaderObserver.onReaderRemoved**.
- Сборка библиотеки осуществляется с использованием compileSdk и targetSdk 34 (Android 14).

### Исправлено

- Инстанс **PcscReaderObserver** больше не получает лишнее второе событие при отключении Рутокен Bluetooth.

## [1.0.0] - 14-11-2023

### Добавлено

- Теперь работа с Рутокен на Android не требует установки Панели управления Рутокен.